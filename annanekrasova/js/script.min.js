"use strict";document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){const e=document.getElementById("preloader");e&&!e.classList.contains("done")&&e.classList.add("done")}),1e3);(()=>{let e,t,c,o,s,n=[],a=0;const i=()=>{const e=t.createImageData(c,o),s=new Uint32Array(e.data.buffer),a=s.length;for(let e=0;e<a;e++)Math.random()<.5&&(s[e]=4278190080);n.push(e)},r=()=>{9===a?a=0:a++,t.putImageData(n[a],0,0),s=window.setTimeout(()=>{window.requestAnimationFrame(r)},40)},l=()=>{c=window.innerWidth,o=window.innerHeight*window.devicePixelRatio/1,e.width=c,e.height=o;for(let e=0;e<10;e++)i();r()};e=document.getElementById("noise"),t=e.getContext("2d"),l()})();const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const c=t.hasAttribute("href")?t.getAttribute("href"):"body";c&&document.querySelector(c).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".header__burger"),c=document.querySelector(".header__menu"),o=document.querySelectorAll(".header__menu-item");t.addEventListener("click",(function(){t.classList.contains("active")?(t.classList.remove("active"),c.classList.remove("active")):(t.classList.add("active"),c.classList.add("active"))})),o.forEach(e=>{e.addEventListener("click",(function(){t.classList.remove("active"),c.classList.remove("active")}))});const s=document.querySelector(".overlay"),n=document.querySelectorAll('a[href^="#modal"]'),a=document.querySelectorAll(".modal__close"),i=document.querySelector("body"),r=document.getElementById("request"),l=document.getElementById("thanks");n.forEach(e=>{e.addEventListener("click",(function(){i.style.overflow="hidden",s.classList.add("active"),r.classList.add("active"),l.classList.remove("active")}))}),a.forEach(e=>{e.addEventListener("click",(function(){i.style.overflow="auto",s.classList.remove("active"),r.classList.remove("active"),l.classList.remove("active")}))});const d=document.getElementById("form");function u(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function m(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function v(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}d&&d.addEventListener("submit",(async function(e){console.log("Отправка запроса"),e.preventDefault();let t=function(e){let t=0,c=document.querySelectorAll("._req");const o=document.querySelectorAll(".warn");for(let e=0;e<c.length;e++){const s=c[e],n=o[e];m(s),n.style.display="none",s.classList.contains("_email")?v(s)&&(u(s),n.style.display="block",t++):("checkbox"===s.getAttribute("type")&&!1===s.checked||""===s.value)&&(u(s),n.style.display="block",t++)}return t}(),c=new FormData(d);if(0===t){let e=await fetch("sendmail.php",{method:"POST",body:c});if(e.ok){let t=await e.json();console.log(t.result),d.reset(),r.classList.remove("active"),l.classList.add("active")}else console.log("Ошибка отправки формы")}}));const f=document.querySelectorAll(".tabs-triggers__item"),L=document.querySelectorAll(".tabs-content__item");f.forEach((e,t)=>e.addEventListener("click",(function(c){c.preventDefault(),f.forEach(e=>e.classList.remove("tabs-triggers__item--active")),L.forEach(e=>e.classList.remove("tabs-content__item--active")),e.classList.add("tabs-triggers__item--active"),L[t].classList.add("tabs-content__item--active")}))),f[0]&&f[0].click()}));